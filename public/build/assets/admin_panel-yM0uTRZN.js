var Me=Object.defineProperty;var se=d=>{throw TypeError(d)};var xe=(d,r,e)=>r in d?Me(d,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[r]=e;var C=(d,r,e)=>xe(d,typeof r!="symbol"?r+"":r,e),ee=(d,r,e)=>r.has(d)||se("Cannot "+e);var n=(d,r,e)=>(ee(d,r,"read from private field"),e?e.call(d):r.get(d)),c=(d,r,e)=>r.has(d)?se("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(d):r.set(d,e),V=(d,r,e,o)=>(ee(d,r,"write to private field"),o?o.call(d,e):r.set(d,e),e),u=(d,r,e)=>(ee(d,r,"access private method"),e);import{U as Ce,C as a,E as Ve,T as De}from"./EventListnerManager-CB5a1GMq.js";import{P as F}from"./ProductCard-C1psFhI9.js";var z,q,G,N,v,D,te,y,ne,ie,re,de,ce,le,ue,pe;class I extends Ce{constructor(e){super();c(this,y);c(this,z,a.get_main_container_id());c(this,q,a.get_domain());c(this,G,{});c(this,N,{});c(this,v,null);c(this,D,[]);c(this,te,null);C(this,"ELM",null);if(!P.getInstance())throw Error("Admin Panel is not instantiated");if(!e.name)throw Error("Missing Parameter : config.name : string");this.ELM=new Ve,V(this,G,e),V(this,v,e.name),u(this,y,ne).call(this)}get data(){return n(this,N)}set data(e){return V(this,N,e)}init(){}boot(){}async render(){const e=document.getElementById(n(this,z));e.innerHTML="",e.innerHTML=await u(this,y,ce).call(this),this.data=null,u(this,y,re).call(this),this.eventDispatch(`${n(this,v)}_launch`)}_destroy(){a.debugLog("panel cleaned"),this.clean()}clean(){}getName(){return n(this,v)}addListner(e,o){a.EM.subscribe(e,o)}eventDispatch(e){a.EM.emit(e)}async requestActionProcess(e,o,s={}){if(!o||!e)throw new Error("Invalid Action Process");const t=e==="view"||e==="get"?"GET":"POST";if(e!=="view"&&e!=="get"){const h=a.APIR.createFormData(this.scrapeData(o));o.querySelectorAll("[data-image-picker]").forEach(M=>{let j=1;a.ImageInputManager.getPicker(M).picker.getImageFiles().forEach(m=>{let oe=M.dataset.name+"_"+j;console.log(oe),h.append(oe,m),j++}),console.log(a.ImageInputManager.getPicker(M).picker.getImageFiles())}),s={body:h,...s},console.log("options is modified"+e)}const i=[()=>this.clearInputs(o)],l=[];return o.dataset.onsuccess&&o.dataset.onsuccess.split(" ").forEach(h=>{i.push(this[h]?this[h]:()=>{})}),o.dataset.onfailed&&o.dataset.onfailed.split(" ").forEach(h=>{l.push(this[h]?this[h]:()=>{})}),console.log(s),await a.APIR.request(t,o.dataset.endpoint??"/",s,{success:i,failed:l})}scrapeData(e){const o=e.querySelectorAll("input[name], textarea[name], select[name], [data-custom-data]"),s={};return o.forEach(t=>{s[t.name]=t.value??""}),s}async viewProcessEventAction(e){const o=await this.requestActionProcess("view",e);switch(e.dataset.viewType){case"table":const s=e.dataset.field.split(" ");o.forEach(t=>{e.innerHTML+=t[s[1]]+" : "+t[s[0]]+"<br>"});break;case"list":console.log(o);break}console.log("proform viewing operations : "+e.dataset.adminContainer)}async addProcessEventAction(e){const o=await this.requestActionProcess("add",e);o!==!1&&a.toast.show("info",o),console.log("proform adding operations : "+e.dataset.adminContainer)}async updateProcessEventAction(e){const o=await this.requestActionProcess(e,{method:"POST"});a.toast.show("info",o),console.log("proform updating operations : "+e.dataset.adminContainer)}}z=new WeakMap,q=new WeakMap,G=new WeakMap,N=new WeakMap,v=new WeakMap,D=new WeakMap,te=new WeakMap,y=new WeakSet,ne=function(){this.addListner(`${n(this,v)}_switch`,()=>{P.switchPanel(n(this,v))}),u(this,y,ie).call(this),this.init()},ie=function(){},re=function(){u(this,y,le).call(this),u(this,y,de).call(this),this.boot()},de=function(){},ce=async function(){return a.EM.emit("panel_fetch_start"),await fetch(`${n(this,q)}/comp/panel/${n(this,v)}`).then(e=>e.text()).then(e=>(a.EM.emit("panel_fetch_end"),e)).catch(e=>{a.EM.emit("panel_fetch_error",e),a.EM.emit("panel_fetch_end"),a.toast.show("error","Panel template loading failed!ðŸ˜µ"),console.error(e),console.error("Panel template loading failed! : UI fetch failed")})},le=function(){u(this,y,pe).call(this);const e=document.querySelectorAll("[data-admin-container]");let o="",s=null;e.forEach(t=>{if(t.dataset.isView){this.viewProcessEventAction(t);return}else s=t.querySelector("[data-btn-action]"),o=s?s.dataset.btnAction:"";u(this,y,ue).call(this,t);const i=()=>{switch(o){case"add":this.addProcessEventAction(t);break;case"update":this.updateProcessEventAction(t);break}};s&&(s.addEventListener("click",i),n(this,D).push({event:"click",btn:s,action:i}))})},ue=function(e){e.querySelectorAll("select[data-options]").forEach(o=>{a.AO.stopObserving(o,"data-options");function s(){o.innerHTML="";try{JSON.parse(o.dataset.options).forEach(t=>{const i=document.createElement("option");i.value=t[0],i.text=t[1],o.appendChild(i)})}catch{throw new Error("Invalid Selector Configuration at :"+e.dataset.adminContainer)}}s(),a.AO.observeAttribute(o,"data-options",s)})},pe=function(){n(this,D).forEach(e=>{e.btn.removeEventListener(e.event,e.action)}),V(this,D,[]),console.log("cleaned")};class Ue extends I{constructor(r){super(r)}init(){}boot(){console.log("dashboard panel rendered"),a.toast.show("info","Dashboard panel rendered"),a.RM}}var f,A,me,he;class Ae extends I{constructor(e){super(e);c(this,A);c(this,f,{products:[],mainCategories:[],taxonomies:[],subCategories:[],status:[],selectProduct:[]})}init(){}boot(){this.loadData(),u(this,A,he).call(this),u(this,A,me).call(this)}loadData(){this.loadProducts(),this.loadMainCategories(),this.loadTaxonomies(),this.loadSubCategories(),this.loadStatus(),this.loadPromotion(),this.loadTaxonomyType(),this.loadTaxonomyName()}async loadProducts(){n(this,f).products=await a.RM.get("/api/products",null,{responseType:"json"}),console.log(n(this,f).products),this.loadProductsTable()}loadProductsTable(){a.EDT.create("tabviewsProductsTable",{data:n(this,f).products,responsive:!0,elements:[{index:0,comp:(e,o,s)=>{var t=document.createElement("a");return t.innerText=s.id,t.setAttribute("role","button"),t.setAttribute("data-bs-toggle","modal"),t.setAttribute("data-bs-target","#viewProductViewModal"),t.onclick=i=>{this.productPreviewCardLoader(s,"tab-viewproduct-s1-model1-div1")},t.classList.add("p-2","iz-text-dark"),t}},{index:5,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setViewProductsViewInputs(s),this.productPreviewCardLoader(s,"viewProductViewPreviewContainer")},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}loadMainCategories(){n(this,f).mainCategories=this.loadSelectOptionsFromRemote("main-categories","tabviewsMainCategory","Select a main category"),this.loadSelectOptionsFromRemote("main-categories","viewProductViewMainCategory","Select a main category")}loadTaxonomies(){n(this,f).taxonomies=this.loadSelectOptionsFromRemote("taxonomies","tabviewsTaxonomy","Select a Taxonomies")}async loadSubCategories(){n(this,f).taxonomies=this.loadSelectOptionsFromRemote("sub-categories","tabviewsSubCategory","Select a sub category"),this.loadSelectOptionsFromRemote("sub-categories","viewProductViewSubCategory","Select a sub category")}async loadStatus(){n(this,f).taxonomies=this.loadSelectOptionsFromRemote("conditions","tabviewsSearchStatus","Select a status"),this.loadSelectOptionsFromRemote("conditions","viewProductViewStatus","Select a status")}async loadPromotion(){n(this,f).promotion=await this.loadSelectOptionsFromRemote("promotions","viewProductViewPromotion","Select a Promotion","id","title")}async loadTaxonomyType(){n(this,f).taxonomyType=await this.loadSelectOptionsFromRemote("taxonomy-types","viewProductViewTaxonomyType","Select a Taxonomy Types","id","type")}async loadTaxonomyName(){n(this,f).taxonomyName=await this.loadSelectOptionsFromRemote("taxonomies","viewProductViewTaxonomyName","Select a Taxonomy Names")}viewProductSearchListener(){document.getElementById("tabviewsMainCategory").addEventListener("change",this.searchViewProduct),document.getElementById("tabviewsTaxonomy").addEventListener("change",this.searchViewProduct),document.getElementById("tabviewsSubCategory").addEventListener("change",this.searchViewProduct),document.getElementById("tabviewsSearchName").addEventListener("change",this.searchViewProduct),document.getElementById("tabviewsSearchPrice").addEventListener("change",this.searchViewProduct),document.getElementById("tabviewsSearchStatus").addEventListener("change",this.searchViewProduct)}viewProductViewUpdateButtonListener(){document.getElementById("viewProductViewUpdateButton").addEventListener("click",this.updateProduct)}viewProductViewRemoveButtonListener(){document.getElementById("viewProductViewRemoveButton").addEventListener("click",this.removeProduct)}searchViewProduct(){a.debugLog("product searched")}setViewProductsViewInputs(e){let o="";const s=a.ImageInputManager.getPicker(document.getElementById("viewProductViewImagePicker"));n(this,f).products.forEach(t=>{t.id==e.id&&(o=t)}),document.getElementById("viewProductViewInputGroup").classList.remove("d-none"),n(this,f).selectProduct=o,o?(a.UIM.fillData("viewProductViewInputGroup",e),o.images.forEach(t=>{const i={src:t.path,name:`image_${t.id}`};s.picker.addImage(i)})):console.error("Product not found for row id:",e.id)}productPreviewCardLoader(e,o){const s=n(this,f).products.find(t=>t.id===e.id);if(s){const t=new F(s);document.getElementById(o).innerHTML="",document.getElementById(o).appendChild(t.getComponent())}else console.error("Product with the given ID not found.")}async updateProduct(){const e=a.UIM.getInputs("viewProductViewInputGroup",{});e.admin_id=1,e.images=[];const o=a.ImageInputManager.getPicker(document.getElementById("viewProductViewImagePicker"));o.picker.getImageFiles().forEach((s,t)=>{e.images["image_"+t]=s}),await a.RM.put("/api/products",e,{requestType:"json",responseType:"json",showToast:!0}),o.picker.clear(),document.getElementById("viewProductViewInputGroup").classList.add("d-none")}async removeProduct(){let e=n(this,f).selectProduct;a.UIM.clearInputs("viewProductViewInputGroup"),a.ImageInputManager.getPicker(document.getElementById("viewProductViewImagePicker")).picker.clear(),await a.RM.delete("/api/products",e,{requestType:"json",responseType:"json",showToast:!0}),document.getElementById("viewProductViewInputGroup").classList.add("d-none")}}f=new WeakMap,A=new WeakSet,me=function(){a.ImageInputManager.createImagePicker(document.getElementById("viewProductViewImagePicker"))},he=function(){this.viewProductSearchListener()};var p,$,ye;class Re extends I{constructor(e){super(e);c(this,$);c(this,p,{products:[],stocks:[],stockVariations:[],variation:[],variationOption:[],selectedvariationOptions:[],selectStock:[],selectStockVariation:[]})}init(){}boot(){this.loadData(),u(this,$,ye).call(this)}loadData(){this.loadProducts(),this.loadStocks(),this.loadStocksVariations(),this.loadVariation(),this.loadVariationOption()}async loadProducts(){n(this,p).products=await a.RM.get("/api/products",null,{responseType:"json"}),this.loadProductsTable()}loadProductsTable(){a.EDT.create("tabAddStockProductsTable",{data:n(this,p).products,responsive:!0,elements:[{index:3,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setSelectProduct(s),this.productPreviewCardLoader(s)},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}async loadStocks(){n(this,p).stocks=await a.RM.get("/api/stocks",null,{responseType:"json"}),this.loadStocksTable()}async loadStocksVariations(){n(this,p).stockVariations=await a.RM.get("/api/stock-variations",null,{responseType:"json"}),this.loadStocksVariationsTable()}loadStocksTable(){a.EDT.clearTable("tabAddStockStocksTable"),a.EDT.create("tabAddStockStocksTable",{data:n(this,p).stocks,responsive:!0,destroy:!0,elements:[{index:3,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setStockInputs(s)},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}loadStocksVariationsTable(){a.EDT.clearTable("tabAddStockVariationTable"),a.EDT.create("tabAddStockVariationTable",{data:n(this,p).stockVariations,responsive:!0,destroy:!0,elements:[{index:4,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setStockVariationsInputs(s)},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}async loadVariation(){n(this,p).variation=await this.loadSelectOptionsFromRemote("variations","addStockVariation","Select a variations"),await this.loadSelectOptionsFromRemote("variations","addStockVariationVariation","Select a variations")}async loadVariationOption(){n(this,p).variationOption=await this.loadSelectOptionsFromRemote("variation-options","addStockVariationOption","Select a Variation Option","id","variation_option"),await this.loadSelectOptionsFromRemote("variation-options","addStockVariationOptionVariation","Select a Variation Option","id","variation_option")}productPreviewCardLoader(){const e=new F({title:"Product 1",price:100,image:"/images/product1.jpg"});document.getElementById("addProductPreviewContainer").appendChild(e.loadComponent())}addProductAddButtonListener(){document.getElementById("addStockButton").addEventListener("click",this.addProduct)}addStockVariationOptionSelectListener(){}addStockButtonListener(){document.getElementById("addStockButton").addEventListener("click",()=>this.checkStockPath())}addStockVariationButtonListener(){document.getElementById("addStockVariationButton").addEventListener("click",()=>this.checkStockVariationPath())}addStockRemoveButtonListener(){document.getElementById("addStockRemoveButton").addEventListener("click",this.stockRemove)}addStockVariationRemoveButtonListener(){document.getElementById("addStockVariationRemoveButton").addEventListener("click",this.stockVariationRemove)}resetStockButtonListener(){document.getElementById("resetStockButton").addEventListener("click",()=>this.loadStocksTable())}resetStockVariationButtonListener(){document.getElementById("resetStockVariationButton").addEventListener("click",()=>this.loadStocksVariationsTable())}clearStockButtonListener(){document.getElementById("clearStockButton").addEventListener("click",this.clearStockInputs)}clearStockVariationButtonListener(){document.getElementById("clearStockVariationButton").addEventListener("click",this.clearStockVariationInputs)}async addStock(){const e=a.UIM.getInputs("addStockContainer");await a.RM.post("/api/stocks",e,{requestType:"json",responseType:"json",showToast:!0})}async addStockVariation(){const e=a.UIM.getInputs("addStockVariationContainer");await a.RM.post("/api/stock-variations",e,{requestType:"json",responseType:"json",showToast:!0})}async updateStock(){const e=a.UIM.getInputs("addStockContainer");await a.RM.put("/api/stocks",e,{requestType:"json",responseType:"json",showToast:!0})}async updateStockVariation(){const e=a.UIM.getInputs("addStockVariationContainer");await a.RM.put("/api/stock-variations",e,{requestType:"json",responseType:"json",showToast:!0})}setSelectProduct(e){let o=[];n(this,p).stocks.forEach(s=>{s.product_id===e.id&&o.push(s)}),a.EDT.clearTable("tabAddStockStocksTable"),a.EDT.create("tabAddStockStocksTable",{data:o,responsive:!0,destroy:!0,elements:[{index:3,comp:(s,t,i)=>{var l=document.createElement("button");return l.innerText="Select",l.onclick=B=>{this.setStockInputs(i)},l.classList.add("iz-btn","iz-btn-primary"),l}}]})}setStockInputs(e){let o=[];n(this,p).stocks.forEach(s=>{s.id==e.id&&(a.UIM.fillData("addStockContainer",e),n(this,p).selectStock=s)}),n(this,p).stockVariations.forEach(s=>{s.stock_id==e.id&&o.push(s)}),document.getElementById("addStockButton").innerHTML="Update Stock",document.getElementById("addStockButton").classList.add("addStockButton"),document.getElementById("addStockButton").classList.remove("updateStockButton"),a.EDT.clearTable("tabAddStockVariationTable"),a.EDT.create("tabAddStockVariationTable",{data:o,responsive:!0,destroy:!0,elements:[{index:4,comp:(s,t,i)=>{var l=document.createElement("button");return l.innerText="Select",l.onclick=B=>{this.setStockVariationsInputs(i)},l.classList.add("iz-btn","iz-btn-primary"),l}}]})}setStockVariationsInputs(e){n(this,p).stockVariations.forEach(o=>{o.id==e.id&&(a.UIM.fillData("addStockVariationContainer",e),n(this,p).selectStockVariation=o)}),document.getElementById("addStockVariationButton").innerHTML="Update Stock Variation",document.getElementById("addStockVariationButton").classList.add("addStockVariationButton"),document.getElementById("addStockVariationButton").classList.remove("updateStockVariationButton")}async stockRemove(){const e=n(this,p).selectStock;await a.RM.put("/api/stocks",e,{requestType:"json",responseType:"json",showToast:!0})}async stockVariationRemove(){const e=n(this,p).selectStockVariation;await a.RM.delete("/api/stock-variations",e,{requestType:"json",responseType:"json",showToast:!0})}checkStockPath(){let e=document.getElementById("addStockButton");e.innerHTML==="Add Stock"&&e.classList.contains("addStockButton")?this.addStock():e.innerHTML==="Update Stock"&&e.classList.contains("updateStockButton")&&this.updateStock()}checkStockVariationPath(){let e=document.getElementById("addStockVariationButton");e.innerHTML==="Add Stock Variation"&&e.classList.contains("addStockVariationButton")?this.addStockVariation():e.innerHTML==="Update Stock Variation"&&e.classList.contains("updateStockVariationButton")&&this.updateStockVariation()}clearStockInputs(){a.UIM.clearInputs("addStockContainer"),document.getElementById("addStockButton").innerHTML="Add Stock",document.getElementById("addStockButton").classList.remove("updateStockButton"),document.getElementById("addStockButton").classList.add("addStockButton")}clearStockVariationInputs(){a.UIM.clearInputs("addStockVariationContainer"),document.getElementById("addStockVariationButton").innerHTML="Add Stock Variation",document.getElementById("addStockVariationButton").classList.remove("updateStocVariationkButton"),document.getElementById("addStockVariationButton").classList.add("addStockVariationButton")}productPreviewCardLoader(e){const o=n(this,p).products.find(s=>s.id===e.id);if(o){const s=new F(o);document.getElementById("product-card-container-addstockpage").innerHTML="",document.getElementById("product-card-container-addstockpage").appendChild(s.getComponent())}else console.error("Product with the given ID not found.")}variationOptionSelectUpdates(){const e=document.getElementById("addStockVariationOption"),o=document.getElementById("addStockVariation"),s=n(this,p).variation,t=n(this,p).variationOption;let i=n(this,p).selectedvariationOptions,l=e.value,B="",h="",x="";t.forEach(m=>{m.id==l&&(B=m.variation_option,h=m.variation_id)}),s.forEach(m=>{m.id==h&&(x=m.name)}),o.value=h;const M={id:l,variation_options:B,variation_id:h,variation_name:x};i.find(m=>m.id==l)||(i.push(M),n(this,p).selectedvariationOptions=i,this.updateVariationOptionList())}updateVariationOptionList(){let e=n(this,p).selectedvariationOptions;const o=document.getElementById("addStockVariationOptionList");o.innerHTML="",e.forEach(s=>{const t=document.createElement("li");t.className="taxonomy-list-item",t.textContent=s.variation_name+" - "+s.variation_options;const i=document.createElement("span");i.className="remove-button",i.textContent="Remove",i.addEventListener("click",()=>{this.removeVariationOption(s.id)}),t.appendChild(i),o.appendChild(t)})}removeVariationOption(e){let o=n(this,p).selectedvariationOptions;const s=o.findIndex(t=>t.id===e);s!==-1&&(o.splice(s,1),this.variationOptionSelectUpdates())}}p=new WeakMap,$=new WeakSet,ye=function(){this.addProductAddButtonListener(),this.addStockVariationOptionSelectListener(),this.addStockButtonListener(),this.addStockVariationButtonListener(),this.addStockRemoveButtonListener(),this.addStockVariationRemoveButtonListener(),this.clearStockButtonListener(),this.clearStockVariationButtonListener(),this.resetStockButtonListener(),this.resetStockVariationButtonListener()};var S,R,fe,ge;class _e extends I{constructor(e){super(e);c(this,R);c(this,S,{mainCategories:[],subCategories:[],promotion:[],newly_arrived:[],status:[],taxonomyType:[],taxonomyName:[],selectedTaxonomies:[],productCardPreview:{title:"Product Card Title",description:"Description goes here...",price:0,sub_category:{name:"Sub Category",main_category:{name:"Main Category"}},images:[{path:"https://via.placeholder.com/640x480.png/008888?text=sed"},{path:"https://via.placeholder.com/640x480.png/00ff55?text=itaque"},{path:"https://via.placeholder.com/640x480.png/0066bb?text=dicta"}]}})}init(){}boot(){this.loadData(),u(this,R,ge).call(this),u(this,R,fe).call(this)}loadData(){this.loadMainCategories(),this.loadSubCategories(),this.loadPromotion(),this.loadStatus(),this.loadTaxonomyType(),this.loadTaxonomyName(),this.productPreviewCardLoader()}async loadMainCategories(){n(this,S).mainCategories=this.loadSelectOptionsFromRemote("main-categories","addProductMainCategory","Select a Main Category")}async loadSubCategories(){n(this,S).subCategories=this.loadSelectOptionsFromRemote("sub-categories","addProductSubCategory","Select a sub category")}async loadTaxonomyType(){n(this,S).taxonomyType=await this.loadSelectOptionsFromRemote("taxonomy-types","addProductTaxonomyType","Select a Taxonomy Types","id","type")}async loadTaxonomyName(){n(this,S).taxonomyName=await this.loadSelectOptionsFromRemote("taxonomies","addProductTaxonomyName","Select a Taxonomy Names")}async loadPromotion(){n(this,S).promotion=await this.loadSelectOptionsFromRemote("promotions","addProductPromotion","Select a Promotion","id","title")}async loadStatus(){n(this,S).status=this.loadSelectOptionsFromRemote("conditions","addProductStatus","Select a status")}productPreviewCardLoader(){const e=new F(n(this,S).productCardPreview);document.getElementById("addProductPreviewContainer").appendChild(e.getComponent())}addProductAddButtonListener(){document.getElementById("addProductButton").addEventListener("click",this.addProduct)}updateProductPreviewCardListener(){document.getElementById("addProductName").addEventListener("change",this.updateProductPreviewCardTitle),document.getElementById("addProductPrice").addEventListener("change",this.updateProductPreviewCardPrice),document.getElementById("addProductMainCategory").addEventListener("change",this.updateProductPreviewCardMainCategory),document.getElementById("addProductSubCategory").addEventListener("change",this.updateProductPreviewCardSubCategory)}addProductTaxonomyNameSelectListener(){document.getElementById("addProductTaxonomyName").addEventListener("change",this.taxonomyNameSelectUpdates.bind(this))}async addProduct(){const e=a.UIM.getInputs("productAddInputGroup",{});e.admin_id=1,e.images=[],a.ImageInputManager.getPicker(document.getElementById("addProductImagePicker")).picker.getImageFiles().forEach((s,t)=>{e.images["image_"+t]=s}),console.log(e),await a.RM.post("/api/products",e,{requestType:"formData",responseType:"json",showToast:!0})}updateProductPreviewCardTitle(){const e=a.UIM.getInputs("productAddInputGroup",{});document.querySelector(".product-card-title").innerHTML=e.product_name}updateProductPreviewCardPrice(){const e=a.UIM.getInputs("productAddInputGroup",{});document.querySelector(".product-card-price").textContent=e.price}async updateProductPreviewCardMainCategory(){const e=a.UIM.getInputs("productAddInputGroup",{});(await a.SS.search("main-categories")).forEach(s=>{s.id==e.main_category?document.querySelector('[data-field="sub_category.main_category.name"]').innerHTML=s.name:console.log("not found")})}async updateProductPreviewCardSubCategory(){const e=a.UIM.getInputs("productAddInputGroup",{});(await a.SS.search("sub-categories")).forEach(s=>{s.id==e.sub_category?document.querySelector('[data-field="sub_category.name"]').innerHTML=s.name:console.log("not found")})}taxonomyNameSelectUpdates(){const e=document.getElementById("addProductTaxonomyName"),o=document.getElementById("addProductTaxonomyType"),s=n(this,S).taxonomyName,t=n(this,S).taxonomyType;let i=n(this,S).selectedTaxonomies,l=e.value,B="",h="",x="";s.forEach(m=>{m.id==l&&(B=m.name,h=m.taxonomy_type_id)}),t.forEach(m=>{m.id==h&&(x=m.type)}),o.value=h;const M={id:l,name:B,type_id:h,type_name:x};i.find(m=>m.id==l)||(i.push(M),n(this,S).selectedTaxonomies=i,this.updateTaxonomyList())}updateTaxonomyList(){let e=n(this,S).selectedTaxonomies;const o=document.getElementById("addProductTaxonomyList");o.innerHTML="",e.forEach(s=>{const t=document.createElement("li");t.className="taxonomy-list-item",t.textContent=s.type_name+" - "+s.name;const i=document.createElement("span");i.className="remove-button",i.textContent="Remove",i.addEventListener("click",()=>{this.removeTaxonomy(s.id)}),t.appendChild(i),o.appendChild(t)})}removeTaxonomy(e){let o=n(this,S).selectedTaxonomies;const s=o.findIndex(t=>t.id===e);s!==-1&&(o.splice(s,1),this.updateTaxonomyList())}}S=new WeakMap,R=new WeakSet,fe=function(){a.ImageInputManager.createImagePicker(document.getElementById("addProductImagePicker"))},ge=function(){this.addProductAddButtonListener(),this.updateProductPreviewCardListener(),this.addProductTaxonomyNameSelectListener()};var k,J,Se;class Ne extends I{constructor(e){super(e);c(this,J);c(this,k,{mainCategories:[],subCategories:[]})}init(){}boot(){this.loadData(),u(this,J,Se).call(this)}loadData(){this.loadMainCategories(),this.loadSubCategories()}async loadMainCategories(){n(this,k).mainCategories=await a.RM.get("/api/main-categories",null,{responseType:"json"}),this.loadMainCategoryTable()}loadMainCategoryTable(){a.EDT.create("mainCategoryTable",{data:n(this,k).mainCategories,responsive:!0,elements:[{index:4,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.getDataAndSetInputData(s,"tabOPMCInputGroup",n(this,k).mainCategories),this.changeButtonText("tabOPMCAddButton","Update Main Category","update","add")},t.classList.add("iz-btn","iz-btn-primary","p-0"),t}}]})}async loadSubCategories(){n(this,k).subCategories=await a.RM.get("/api/sub-categories",null,{responseType:"json"}),this.loadSubCategoryTable()}loadSubCategoryTable(){a.EDT.create("subCategoryTable",{data:n(this,k).subCategories,responsive:!0,elements:[{index:5,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.getDataAndSetInputData(s,"tabOPSCInputGroup",n(this,k).subCategories),this.changeButtonText("tabOPSCAddButton","Update Sub Category","update","add")},t.classList.add("iz-btn","iz-btn-primary","p-0"),t}}]})}addNewMCButtonListener(){document.getElementById("addNewMCButton").addEventListener("click",()=>this.clearInputHideContainer("tabOPMCInputGroup","hide"),this.clearInputHideContainer("tabOPMCInputGroup"))}clearTabOPMCInputButtonListener(){document.getElementById("clearTabOPMCInputButton").addEventListener("click",()=>this.clearInputHideContainer("tabOPMCInputGroup","hide"))}getDataAndSetInputData(e,o,s,t=null){const i=s.find(l=>l.id===e.id);i&&(a.UIM.fillData(o,e),t&&(t=i)),document.getElementById(o).classList.remove("d-none")}changeButtonText(e=null,o=null,s=null,t=null){document.getElementById(e).innerHTML=o,document.getElementById(e).classList.remove(t),document.getElementById(e).classList.add(s)}clearInputHideOrShowContainer(e,o){a.UIM.clearInputs(e),document.getElementById(e).classList.remove("d-none")}}k=new WeakMap,J=new WeakSet,Se=function(){this.clearTabOPMCInputButtonListener()};var b,K,Te;class He extends I{constructor(e){super(e);c(this,K);c(this,b,{offers:[],products:[],taxonomies:[],subCategories:[],mainCategories:[]})}init(){}boot(){this.loadData(),u(this,K,Te).call(this)}async loadData(){this.loadOffers(),this.loadOffersProducts(),this.loadOffersTaxonomies(),this.loadOffersSubCategories(),this.loadOffersMainCategories()}async loadOffers(){n(this,b).offers=await a.RM.get("/api/promotions",null,{responseType:"json"}),this.loadOfferTable()}async loadOffersProducts(){n(this,b).products=await a.RM.get("/api/products",null,{responseType:"json"})}async loadOffersTaxonomies(){n(this,b).taxonomies=await a.RM.get("/api/taxonomies",null,{responseType:"json"})}async loadOffersSubCategories(){n(this,b).subCategories=await a.RM.get("/api/sub-categories",null,{responseType:"json"})}async loadOffersMainCategories(){n(this,b).mainCategories=await a.RM.get("/api/main-categories",null,{responseType:"json"})}loadOfferTable(){a.EDT.create("offerTable",{data:n(this,b).offers,responsive:!0,dom:'<"top"f>rt<"bottom"lip><"clear">',elements:[{index:6,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.loadOfferInputs(s)},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}searchProductNameOfferTabListener(){document.getElementById("searchProductNameOfferTab").addEventListener("change",this.searchOfferProduct)}addOfferButtonListener(){document.querySelector(".addOfferButton").addEventListener("click",this.addOffer)}updateOfferButtonListener(){document.querySelector(".updateOfferButton").addEventListener("click",this.updateOffer)}removeOfferButtonListener(){document.getElementById("removeOfferButton").addEventListener("click",this.removeOffer)}clearOfferButtonListener(){document.getElementById("clearOfferButton").addEventListener("click",this.clearOffer)}offerTypeSelectListener(){document.getElementById("offerTypeSelect").addEventListener("change",e=>{switch(e.target.value){case"1":this.setProductTable();break;case"2":this.setMainCategoryTable();break;case"3":this.setSubCategoryTable();break;case"4":this.setTaxonomiesTable();break}})}searchOfferProduct(){a.debugLog("product searched");const e=a.UIM.getInputs("searchProductNameOfferTabContainer");this.table.search(e.searchProductNameOfferTab).draw()}loadOfferInputs(e){a.UIM.fillData("offerTabEditForm",e),document.getElementById("addOfferButton").innerHTML="Update Offer",document.getElementById("addOfferButton").classList.add("updateOfferButton"),document.getElementById("addOfferButton").classList.remove("addOfferButton")}async addOffer(){const e=a.UIM.getInputs("offerTabEditForm",{});(await a.RM.post("/api/promotions",e,{showToast:!0})).status===200&&(this.loadOffers(),a.UIM.clearInputs("offerTabEditForm"))}async updateOffer(){const e=a.UIM.getInputs("offerTabEditForm",{});(await a.RM.put("/api/promotions",e,{showToast:!0})).status===200&&this.loadOffers()}async removeOffer(){const e=a.UIM.getInputs("offerTabEditForm",{});(await a.RM.delete("/api/promotions",e,{showToast:!0})).status===200&&(this.loadOffers(),a.UIM.clearInputs("offerTabEditForm"))}clearOffer(){a.UIM.clearInputs("offerTabEditForm"),document.getElementById("addOfferButton").innerHTML="Add Offer",document.getElementById("addOfferButton").classList.remove("updateOfferButton"),document.getElementById("addOfferButton").classList.add("addOfferButton")}setProductTable(){this.clearOfferTable("offerAllTypeTable"),document.getElementById("offerAllTypeTable").innerHTML=`
            <thead>
                <tr class="topc-border-bottom">
                    <th data-column="id" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">ID</th>
                    <th data-column="title" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Title</th>
                    <th data-column="promotion_id" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Promotion ID</th>
                    <th data-column class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Action</th>
                </tr>
            </thead>
            <tbody></tbody>
        `,this.loadOfferProductTable()}setMainCategoryTable(){this.clearOfferTable("offerAllTypeTable"),document.getElementById("offerAllTypeTable").innerHTML=`
            <thead>
                <tr class="topc-border-bottom">
                    <th data-column="id" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">ID</th>
                    <th data-column="name" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Name</th>
                    <th data-column class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Action</th>
                </tr>
            </thead>
            <tbody></tbody>
        `,this.loadOfferMainCategoryTable()}setSubCategoryTable(){this.clearOfferTable("offerAllTypeTable"),document.getElementById("offerAllTypeTable").innerHTML=`
            <thead>
                <tr class="topc-border-bottom">
                    <th data-column="id" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">ID</th>
                    <th data-column="name" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Name</th>
                    <th data-column class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Action</th>
                </tr>
            </thead>
            <tbody></tbody>
        `,this.loadOfferSubCategoryTable()}setTaxonomiesTable(){this.clearOfferTable("offerAllTypeTable"),document.getElementById("offerAllTypeTable").innerHTML=`
            <thead>
                <tr class="topc-border-bottom">
                    <th data-column="id" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">ID</th>
                    <th data-column="name" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Name</th>
                    <th data-column="taxonomy_type_id" class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Taxonomy Type ID</th>
                    <th data-column class="topc-text-clr-2 text-start p-2 ps-0 pb-3">Action</th>
                </tr>
            </thead>
            <tbody></tbody>
        `,this.loadOfferTaxonomiesTable()}loadOfferProductTable(){a.EDT.create("offerAllTypeTable",{destroy:!0,data:n(this,b).products,responsive:!0,dom:'<"top"f>rt<"bottom"lip><"clear">',elements:[{index:3,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{console.log("Selected product: ",s)},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}loadOfferMainCategoryTable(){a.EDT.create("offerAllTypeTable",{destroy:!0,data:n(this,b).mainCategories,responsive:!0,dom:'<"top"f>rt<"bottom"lip><"clear">',elements:[{index:2,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select Category",t.onclick=i=>{console.log("Selected category: ",s)},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}loadOfferSubCategoryTable(){a.EDT.create("offerAllTypeTable",{data:n(this,b).subCategories,destroy:!0,responsive:!0,dom:'<"top"f>rt<"bottom"lip><"clear">',elements:[{index:2,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}loadOfferTaxonomiesTable(){a.EDT.create("offerAllTypeTable",{data:n(this,b).taxonomies,destroy:!0,responsive:!0,dom:'<"top"f>rt<"bottom"lip><"clear">',elements:[{index:3,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}clearOfferTable(e){a.EDT.clearTable(e),document.getElementById(e).innerHTML=""}}b=new WeakMap,K=new WeakSet,Te=function(){this.searchProductNameOfferTabListener(),this.addOfferButtonListener(),this.removeOfferButtonListener(),this.clearOfferButtonListener(),this.offerTypeSelectListener()};class je extends I{constructor(r){super(r)}init(){}boot(){console.log("Offer Email Panel rendered"),a.toast.show("info","Offer Email Panel rendered"),a.RM}}var ae,_,Ie,be;class Fe extends I{constructor(e){super(e);c(this,_);c(this,ae,{})}init(){}boot(){this.loadData(),u(this,_,be).call(this),u(this,_,Ie).call(this)}loadData(){}async loadInterfaces(){}searchInterfacesListener(){document.getElementById("tabUIMUserInterface").addEventListener("change",this.searchInterfaces)}addFilesButtonListener(){document.getElementById("add-files-btn").addEventListener("click",this.addFiles)}uIMDivchangeViweListener(){document.getElementById("UI-M-desktop-link").addEventListener("click",this.uIMDivchangeViwe),document.getElementById("UI-M-mobile-link").addEventListener("click",this.uIMDivchangeViwe)}uIMDivchangeViwe(){var e=document.getElementById("UI-M-desktop-link"),o=document.getElementById("UI-M-mobile-link"),s=document.getElementById("UI-M-desktop-div"),t=document.getElementById("UI-M-mobile-div");s.classList.toggle("d-none"),t.classList.toggle("d-none"),e.classList.toggle("iz-UIM-s1-text1"),o.classList.toggle("iz-UIM-s1-text1"),e.classList.toggle("text-decoration-underline"),o.classList.toggle("text-decoration-underline")}async addFiles(){const e=a.UIM.getInputs("tabUIMInputGroup"),o=a.ImageInputManager.getPicker(document.getElementById("tabUIMImagePicker"));e.image=o.picker.getImageFiles(),await a.RM.post("/api/ui-primary-carousal",e,{requestType:"formData",responseType:"json",showToast:!0}),o.picker.clear()}}ae=new WeakMap,_=new WeakSet,Ie=function(){a.ImageInputManager.createImagePicker(document.getElementById("tabUIMImagePicker"))},be=function(){this.uIMDivchangeViweListener(),this.addFilesButtonListener()};var U,Q,Ee;class ze extends I{constructor(e){super(e);c(this,Q);c(this,U,{users:[]})}init(){}boot(){this.loadData(),u(this,Q,Ee).call(this)}loadData(){this.loadUsers()}async loadUsers(){n(this,U).users=await a.RM.get("/api/users",null,{responseType:"json"}),this.loadUsersTable()}loadUsersTable(){a.EDT.create("manageUserTable",{data:n(this,U).users,elements:[{index:4,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setInputData(s,"tabUsersInputGroup",n(this,U).users)},t.classList.add("iz-btn","iz-btn-primary","p-0"),t}},{index:5,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{P.temp=s.id,P.switchPanel("orderHistory")},t.classList.add("iz-btn","iz-btn-primary","p-0"),t}}]})}clearUsersInputButtonListener(){document.getElementById("clearUsersInputButton").addEventListener("click",this.clearUsersInputs)}updateOrderButtonListener(){document.getElementById("updateOrderButton").addEventListener("click",this.updateOrder)}setInputData(e,o,s,t=null){const i=s.find(l=>l.id===e.id);i&&(a.UIM.fillData(o,e),t&&(t=i)),document.getElementById("tabUsersInputGroup").classList.remove("d-none")}clearUsersInputs(){a.UIM.clearInputs("tabUsersInputGroup"),document.getElementById("tabUsersInputGroup").classList.add("d-none")}async updateUsers(){const e=a.UIM.getInputs("tabUsersInputGroup");await a.RM.put("/api/order-history",e,{requestType:"json",responseType:"json",showToast:!0})}}U=new WeakMap,Q=new WeakSet,Ee=function(){this.clearUsersInputButtonListener(),this.updateOrderButtonListener()};var E,W,ve;class qe extends I{constructor(e){super(e);c(this,W);c(this,E,{staff:[],staffRoles:[]})}init(){}boot(){this.isPasswordCopied=!1,this.staffDeleteModal,this.bsOffcanvas2,this.loadData(),u(this,W,ve).call(this)}loadData(){this.loadStaff()}async loadStaff(){n(this,E).staff=await a.RM.get("/api/staff",null,{showToast:!0,responseType:"json"}),a.debugLog(n(this,E).staff),this.loadStaffTable()}updateStaffData(){n(this,E).staff.forEach(e=>{let o=n(this,E).staffRoles.find(s=>s.id===e.role_id);o&&(e.role_name=o.role_name)})}loadStaffTable(){a.EDT.create("adminStaffTable",{data:n(this,E).staff,responsive:!0,dom:'<"top"f>rt<"bottom"lip><"clear">',language:{search:"_INPUT_",searchPlaceholder:"Search..."}})}async setRoleSelector(){n(this,E).staffRoles=await a.RM.get("/api/roles",null,{showToast:!0,responseType:"json"}),console.log(n(this,E).staffRoles),a.UIM.setSelectOptions("tabviewsSearchStatus",n(this,E).staffRoles,{defaultOption:"Select an Role"})}staffEmailSearchListener(){document.getElementById("staffEmailSearch").addEventListener("change",this.searchStaff)}staffNameSearchListener(){document.getElementById("staffNameSearch").addEventListener("change",this.searchStaff)}staffroleSearchListener(){document.getElementById("staffroleSearch").addEventListener("change",this.searchStaff)}addNewStaffButtonListener(){document.getElementById("addNewStaffButton").addEventListener("click",this.showOffcanvas)}staffAddGeneartePasswordListener(){document.getElementById("staffAddGeneartePassword").addEventListener("click",this.staffAddGeneartePassword)}staffAddPasswordCopyVerifyCheckListener(){document.getElementById("staffAddPasswordCopyVerifyCheck").addEventListener("change",this.haveCopiedPasswordAdminStaff.bind(this))}searchStaff(){const e=a.UIM.getInputs("staffSearchContainer");a.debugLog(e)}showOffcanvas(){new bootstrap.Offcanvas("#addStaff").show()}async staffAddGeneartePassword(){const e=De.passwordGenerator(10);document.getElementById("staffAddPasswordInput").value=e,document.getElementById("staffAddPasswordCopyVerifyCheck").checked=!1,document.getElementById("staffUpdatePasswordInput").value=e,document.getElementById("staffUpdatePasswordCopyVerifyCheck").checked=!1,this.isPasswordCopied=!1,navigator.clipboard.writeText(e).then(()=>{a.toast.show("info","Password copied to clipboard!")}).catch(o=>{a.toast.show("error","Failed to copy: "+o)})}resetGeneartePassword(){document.getElementById("staffAddPasswordInput").value="",document.getElementById("staffAddPasswordCopyVerifyCheck").checked=!1,document.getElementById("staffUpdatePasswordInput").value="",document.getElementById("staffUpdatePasswordCopyVerifyCheck").checked=!1,this.isPasswordCopied=!1}haveCopiedPasswordAdminStaff(e){e.target.checked?this.isPasswordCopied=!0:this.isPasswordCopied=!1}tabStaffDeleteStaff(e,o,s){document.getElementById("staffDeleteModalText").innerHTML=o+" "+s,this.staffDeleteModal=new bootstrap.Modal("#tabStaffDeleteModal"),this.staffDeleteModal.show(),document.querySelector("#staffDeleteModalDeleteButton").addEventListener("click",t=>{deleteStaff(e),t.preventDefault()})}tabStaffShowOffcanvas2(e,o,s,t){this.bsOffcanvas2=new bootstrap.Offcanvas("#updateStaff"),this.bsOffcanvas2.show(),document.getElementById("emailInputUpdateStaff").disabled=!0,this.resetGeneartePassword(),document.getElementById("firstNameInputUpdateStaff").value=o,document.getElementById("lastNameInputUpdateStaff").value=s,document.getElementById("emailInputUpdateStaff").value=e,document.getElementById("updateStaffRoleInput").value=t}}E=new WeakMap,W=new WeakSet,ve=function(){this.staffEmailSearchListener(),this.staffNameSearchListener(),this.staffroleSearchListener(),this.addNewStaffButtonListener(),this.staffAddGeneartePasswordListener(),this.staffAddPasswordCopyVerifyCheckListener()};var g,X,ke;class Ge extends I{constructor(e){super(e);c(this,X);c(this,g,{products:[],mainCategories:[],taxonomy:[],subCategories:[],seo:[],seoTypes:[],selectSeo:"",selectSeoType:""})}init(){}boot(){this.loadData(),u(this,X,ke).call(this)}loadData(){this.loadProducts(),this.loadMainCategories(),this.loadTaxonomies(),this.loadSubCategories(),this.loadSeo(),this.loadSeoTypes()}async loadProducts(){n(this,g).products=await this.loadSelectOptionsFromRemote("products","seoProduct","Select a product","id","title")}async loadMainCategories(){n(this,g).mainCategories=await this.loadSelectOptionsFromRemote("main-categories","seoMainCategory","Select a main category")}async loadTaxonomies(){n(this,g).taxonomy=await this.loadSelectOptionsFromRemote("taxonomies","seoTaxonomy","Select a taxonomy")}async loadSeoTypes(){n(this,g).seoType=await this.loadSelectOptionsFromRemote("seo-type","seoType","Select a Seo Type","id","type"),this.loadSeoTypeTable()}async loadSubCategories(){n(this,g).subCategories=await this.loadSelectOptionsFromRemote("sub-categories","seoSubCategory","Select a sub category")}async loadSeo(){n(this,g).seo=await a.RM.get("/api/seo-config",null,{showToast:!0,responseType:"json"}),this.loadSeoTable()}loadSeoTable(){a.EDT.create("seoTable",{data:n(this,g).seo,responsive:!0,elements:[{index:3,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setSeoInputs(s)},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}loadSeoTypeTable(){a.EDT.create("seoTypeTable",{data:n(this,g).seoType,responsive:!0,elements:[{index:2,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setSeoTypeInputs(s)},t.classList.add("iz-btn","iz-btn-primary"),t}}]})}clearSeoButtonListener(){document.getElementById("clearSeoButton").addEventListener("click",this.clearSeo)}clearSeoTypeButtonListener(){document.getElementById("clearSeoTypeButton").addEventListener("click",this.clearSeoType)}addSeoButtonListener(){document.getElementById("addSeoButton").addEventListener("click",()=>this.checkSeoPath())}addSeoTypeButtonListener(){document.getElementById("addSeoTypeButton").addEventListener("click",()=>this.checkSeoTypePath())}checkSeoPath(){let e=document.getElementById("addSeoButton");e.innerHTML==="Add SEO"&&e.classList.contains("addSeo")?this.addSeo():e.innerHTML==="Update SEO"&&e.classList.contains("updateSeo")&&this.updateSeo()}checkSeoTypePath(){let e=document.getElementById("addSeoTypeButton");e.innerHTML==="Add SEO Type"&&e.classList.contains("addSeoType")?this.addSeoType():e.innerHTML==="Update SEO Type"&&e.classList.contains("updateSeoType")&&this.updateSeoType()}async addSeo(){const e=await a.UIM.getInputs("seoInputContainer");await a.RM.post("/api/seo-config",e,{requestType:"json",responseType:"json",showToast:!0})}async updateSeo(){const e=await a.UIM.getInputs("seoInputContainer");e.id=n(this,g).selectSeo,await a.RM.put("/api/seo-config",e,{requestType:"json",responseType:"json",showToast:!0})}async addSeoType(){const e=await a.UIM.getInputs("seoTypeInputContainer");await a.RM.post("/api/seo-type",e,{requestType:"json",responseType:"json",showToast:!0})}async updateSeoType(){const e=await a.UIM.getInputs("seoTypeInputContainer");e.id=n(this,g).seoType,await a.RM.put("/api/seo-type",e,{requestType:"json",responseType:"json",showToast:!0})}setSeoInputs(e){let o=n(this,g).seo,s=[];o.forEach(t=>{t.id==e.id&&(s=t,n(this,g).selectSeo=t.id)}),a.UIM.fillData("seoInputContainer",s),document.getElementById("addSeoButton").innerHTML="Update SEO",document.getElementById("addSeoButton").classList.remove("addSeo"),document.getElementById("addSeoButton").classList.add("updateSeo")}setSeoTypeInputs(e){let o=n(this,g).seoType,s=[];o.forEach(t=>{t.id==e.id&&(s=t,n(this,g).seoType=t.id)}),a.UIM.fillData("seoTypeInputContainer",s),document.getElementById("addSeoTypeButton").innerHTML="Update SEO Type",document.getElementById("addSeoTypeButton").classList.remove("addSeoType"),document.getElementById("addSeoTypeButton").classList.add("updateSeoType")}clearSeo(){a.UIM.clearInputs("seoInputContainer"),document.getElementById("addSeoButton").innerHTML="Add SEO",document.getElementById("addSeoButton").classList.remove("updateSeo"),document.getElementById("addSeoButton").classList.add("addSeo")}clearSeoType(){a.UIM.clearInputs("seoTypeInputContainer"),document.getElementById("addSeoTypeButton").innerHTML="Add SEO Type",document.getElementById("addSeoTypeButton").classList.remove("updateSeoType"),document.getElementById("addSeoTypeButton").classList.add("addSeoType")}}g=new WeakMap,X=new WeakSet,ke=function(){this.addSeoButtonListener(),this.clearSeoButtonListener(),this.clearSeoTypeButtonListener(),this.addSeoTypeButtonListener()};class $e extends I{constructor(r){super(r)}init(){}boot(){console.log("Setting Panel rendered"),a.toast.show("info","Setting Panel rendered"),a.RM}}var L,Y,we;class Je extends I{constructor(e){super(e);c(this,Y);c(this,L,{orders:[],selectUserOrders:[]})}init(){}boot(){this.loadData(),u(this,Y,we).call(this)}loadData(){this.loadOrders()}async loadOrders(){n(this,L).orders=await a.RM.get("/api/all/order-history",null,{responseType:"json"}),console.log(n(this,L).orders),n(this,L).selectUserOrders=this.getOrdersByUserId(P.temp),P.temp=null,this.loadOrdersHistoryTable()}getOrdersByUserId(e){return n(this,L).orders.filter(o=>o.user_id===e)}loadOrdersHistoryTable(){a.EDT.clearTable("tabOrderHistoryTable"),a.EDT.create("tabOrderHistoryTable",{data:n(this,L).selectUserOrders,responsive:!0,destroy:!0,elements:[{index:4,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{},t.classList.add("iz-btn","iz-btn-primary","p-0"),t}}]})}}L=new WeakMap,Y=new WeakSet,we=function(){};var w,Z,Pe;class Ke extends I{constructor(e){super(e);c(this,Z);c(this,w,{orders:[],statuses:[]})}init(){}boot(){this.loadData(),u(this,Z,Pe).call(this)}loadData(){this.loadOrders(),this.loadStatuses()}async loadOrders(){n(this,w).orders=await a.RM.get("/api/all/order-history",null,{responseType:"json"}),console.log(n(this,w).orders),this.loadOrdersTable()}loadOrdersTable(){a.EDT.clearTable("tabOrderstable"),a.EDT.create("tabOrderstable",{data:n(this,w).orders,responsive:!0,destroy:!0,elements:[{index:4,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setInputData(s,"tabOrdersInputGroup",n(this,w).orders)},t.classList.add("iz-btn","iz-btn-primary","p-0"),t}},{index:5,comp:(e,o,s)=>{var t=document.createElement("button");return t.innerText="Select",t.onclick=i=>{this.setStockInputs(s)},t.classList.add("iz-btn","iz-btn-primary","p-0"),t}}]})}loadOrdersOrderItemsTable(e){a.EDT.clearTable("tabOrdersOrderItemtable"),a.EDT.create("tabOrdersOrderItemtable",{data:e.order_items,responsive:!0,destroy:!0})}async loadStatuses(){n(this,w).status=await this.loadSelectOptionsFromRemote("status","searchOrdersStatus","Select a status"),a.UIM.setSelectOptions("tabOrdersInputStatus",n(this,w).status,{defaultOption:"Select a status"})}clearOrdersInputButtonListener(){document.getElementById("clearOrdersInputButton").addEventListener("click",this.clearOrderInputs)}updateOrderButtonListener(){document.getElementById("updateOrderButton").addEventListener("click",this.updateOrder)}setInputData(e,o,s,t=null){const i=s.find(l=>l.id===e.id);i&&(a.UIM.fillData(o,e),t&&(t=i)),this.loadOrdersOrderItemsTable(i),document.getElementById("tabOrdersInputGroup").classList.remove("d-none"),document.getElementById("tabOrdersOrderItemTableContainer").classList.remove("d-none")}clearOrderInputs(){a.UIM.clearInputs("tabOrdersInputGroup"),document.getElementById("tabOrdersInputGroup").classList.add("d-none"),document.getElementById("tabOrdersOrderItemTableContainer").classList.add("d-none")}async updateOrder(){const e=a.UIM.getInputs("tabOrdersInputGroup");await a.RM.put("/api/order-history",e,{requestType:"json",responseType:"json",showToast:!0})}}w=new WeakMap,Z=new WeakSet,Pe=function(){this.clearOrdersInputButtonListener(),this.updateOrderButtonListener()};class Qe extends I{constructor(r){super(r)}init(){}async boot(){const r=await a.SS.search("products");console.log(r),a.EDT.create("testMainCategory",{data:r}),this.test()}test(){setTimeout(()=>{console.log(a.EDT.getTables()[0].id),a.EDT.clearTable("testMainCategory"),console.log("cleared")},5e3)}}var H,O,Be,Le,Oe;const T=class T extends a{constructor(){super();c(this,O);C(this,"info",null);C(this,"UI",null);C(this,"activePanel",null);C(this,"data",{application_name:"Hasthi Restaurant Admin Dashboard",application_version:"1.0.0",application_copyright:"Made with â¤ï¸ by Algowrite Â© 2024. All Rights Reserved By Algowrite Solutions"});V(T,H,this),u(this,O,Be).call(this)}static get instance(){return n(T,H)??null}async test(){console.log("test ===> start"),console.log(this.info.started_time)}static getInstance(){return T.instance??null}static getPanelList(){return T.getInstance().UI.panels}static getPanel(e){return T.getPanelList().forEach(o=>{if(o.name===e)return o}),null}static getCurrentPanel(){return T.getInstance().activePanel??null}static async switchPanel(e){const o=T.getInstance();T.getPanelList().forEach(async s=>{s.getName()===e&&(T.getPanelList().forEach(t=>{t._destroy()}),await s.render(),o.info.activePanelName=e,o.activePanel=T.getPanel(e))})}};H=new WeakMap,O=new WeakSet,Be=async function(){this.info={started_time:new Date,state:"live",activePanelName:"test"},this.activePanel=null,this.UI={panels:u(this,O,Oe).call(this)},await u(this,O,Le).call(this)},Le=async function(){document.querySelectorAll("[data-admin-panel-switch]").forEach(e=>{e.addEventListener("click",()=>{T.switchPanel(e.dataset.adminPanelSwitch)})}),T.switchPanel(this.info.activePanelName)},Oe=function(){return[new Ue({name:"dashboard"}),new Ae({name:"tabViewProduct"}),new Re({name:"tabAddStock"}),new _e({name:"tabAddProduct"}),new Ne({name:"tabOtherProduct"}),new He({name:"offerTabEdit"}),new je({name:"offerTabEmail"}),new Fe({name:"manage-ui"}),new ze({name:"users"}),new qe({name:"staff"}),new Ge({name:"seo"}),new $e({name:"settings"}),new Je({name:"orderHistory"}),new Ke({name:"orders"}),new Qe({name:"test"})]},c(T,H,null);let P=T;document.addEventListener("DOMContentLoaded",()=>{console.log("admin panel loaded"),new P});
